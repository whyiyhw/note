- 分区表的原理
    - 
    - 工作原理
    - 创建表的时候使用partition by 子句定义每个分区所需要存放的数据,执行查询时,优化器会根据分区定义过滤那些没有我们所需要数据的分区,这样查询只需要查询所需数据在的分区就OK
    - 目的是按照一个较粗的粒度来分在不同的表中,这样可以将相关的数据存放在一起,而且如果想一次性删除整个分区的数据也方便
    - 适用场景
        - 表非常大,无法全部存在内存,或者是只有在表的最后有热点数据,其他的都是历史数据(也可以建立活跃表,分段读取)
        - 分区表的数据更易维护,可以对独立的分区进行独立的操作
        - 分区表的数据可以分布在不同的机器上,从而高效的使用资源
        - 可以备份独立的分区
    - 限制
        - 最多1024个分区 
        - 5.1版本,分区表表达式必须是整数,5.5可以使用列分区
        - 分区字段中如果有主键和唯一索引列,那么主见和唯一索引列必须被包含进来
        - 分区表无法使用外键约束
        - 需要对现有表的结构进行修改才能进行分区
        - 所有的分区必须使用使用相同的储存引擎
        - 分区函数可使用的函数和表达式也会有限制
        - 对于MyISAM表分区,不能使用load index into cache
        - 对于MyISAM表,使用分区表时需要打开更多的文件描述符(降低效率)
- 分库分表的原理
    - 通过一些hash算法或者是一些工具实现将一张数据表垂直或者水平进行物理分隔
    - 表数据达到数百万上千万的时候可以使用的方法
    - 水平分隔
        - 表很大,分隔后可以降低在查询时候需要读的数据和索引的页数,同时也降低了索引的层数,提高查询的速度
        - 使用场景表中的数据具有独立性,比如说分别记录了各个地区的数据,或是不同时期的数据,特别是有的数据常用,有的不常用 
        - 需要把数据分在多个介质
        - 缺点
        - 给应用增加了复杂度,通常查询时候需要多个表名,查询所有的数据都需要union操作
        - 在许多的数据库应用中,这种复杂性会超过它带来的优点,岔村会增加读一个索引层的磁盘次数
    - 垂直分表
        -  如果一个表中的某些列常用而另一些列不常用,可以把常用列分出来
        -  可以时分列变小,减少磁盘io
        -  我觉的大数据还是不行
- 复制原理以及负载均衡
    - 主从复制的原理
        - 在主库中把数据更改记录到二进制日志 binlog日志中
        - 从库将主库的日志复制到自己的中继日志
        - 从库读取中继日志中的事件,将其重放到从库数据中
    -  mysql主从复制解决的问题
        -  数据分布:可以随意停止或开始复制,并在不同的地理位置分布数据备份
        -  负载均衡:降低单个服务器的压力
        -  高可用和故障切换:帮助应用程序避免单点失败
        -  升级测试:可以使用更高版本的Mysql作为从库 进行测试

`简述分区分表的原理,分别说说分区/分表的使用场景和优缺点`


## sql安全
- sql查询的安全方案
    - 使用预处理语句来防止sql注入
    - 写入数据库的数据要进行特殊字符的转义
    - 查询错误信息不要返回给用户,将错误记录在日志
    - 定期做数据备份
    - 不给查询用户root权限
    - 关闭远程访问数据库权限
    - 限制用户权限